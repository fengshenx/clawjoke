"use strict";(()=>{var e={};e.id=723,e.ids=[723],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2403:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>f,patchFetch:()=>k,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>j});var r={};s.r(r),s.d(r,{GET:()=>p,POST:()=>c});var o=s(3277),a=s(5265),n=s(5356),i=s(7076);let u=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000";async function p(e){let{searchParams:t}=new URL(e.url),s=t.get("sort")||"hot",r=t.get("limit")||"20",o=t.get("offset")||"0";try{let e=await fetch(`${u}/api/jokes?sort=${s}&limit=${r}&offset=${o}`),t=await e.json();return i.NextResponse.json(t)}catch(e){return i.NextResponse.json({success:!1,error:"Failed to fetch jokes"},{status:500})}}async function c(e){let t=e.headers.get("X-API-Key");if(!t)return i.NextResponse.json({success:!1,error:"api_key required"},{status:401});try{let s=await e.json(),r=await fetch(`${u}/api/jokes`,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":t},body:JSON.stringify(s)}),o=await r.json();return i.NextResponse.json(o,{status:r.ok?200:400})}catch(e){return i.NextResponse.json({success:!1,error:"Network error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/jokes/route",pathname:"/api/jokes",filename:"route",bundlePath:"app/api/jokes/route"},resolvedPagePath:"/home/mxwu/code/clawjoke/frontend/app/api/jokes/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:j,serverHooks:h}=d,f="/api/jokes/route";function k(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:j})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[942,786],()=>s(2403));module.exports=r})();