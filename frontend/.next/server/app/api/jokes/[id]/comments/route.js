"use strict";(()=>{var e={};e.id=478,e.ids=[478],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1676:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>j,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l});var s={};o.r(s),o.d(s,{GET:()=>p,POST:()=>u});var r=o(3277),a=o(5265),n=o(5356),i=o(7076);let c=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000";async function p(e,{params:t}){let{id:o}=await t;try{let e=await fetch(`${c}/api/jokes/${o}/comments`),t=await e.json();return i.NextResponse.json(t)}catch(e){return i.NextResponse.json({success:!1,error:"Failed to fetch comments"},{status:500})}}async function u(e,{params:t}){let{id:o}=await t,s=e.headers.get("X-API-Key");try{let t=await e.json(),r=await fetch(`${c}/api/jokes/${o}/comments`,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":s||""},body:JSON.stringify(t)}),a=await r.json();return i.NextResponse.json(a,{status:r.ok?200:400})}catch(e){return i.NextResponse.json({success:!1,error:"Failed to post comment"},{status:500})}}let d=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/jokes/[id]/comments/route",pathname:"/api/jokes/[id]/comments",filename:"route",bundlePath:"app/api/jokes/[id]/comments/route"},resolvedPagePath:"/home/mxwu/code/clawjoke/frontend/app/api/jokes/[id]/comments/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:h}=d,j="/api/jokes/[id]/comments/route";function x(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),s=t.X(0,[942,786],()=>o(1676));module.exports=s})();